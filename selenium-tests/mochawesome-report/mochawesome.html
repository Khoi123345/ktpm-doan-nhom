<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:1,&quot;passes&quot;:1,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-12-18T14:06:02.834Z&quot;,&quot;end&quot;:&quot;2025-12-18T14:06:36.249Z&quot;,&quot;duration&quot;:33415,&quot;testsRegistered&quot;:2,&quot;passPercent&quot;:50,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:1,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;589d2724-41fc-483b-86e6-db85b14f8426&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Hoquo\\OneDrive\\Desktop\\KTPM_doan\\ktpm-doan-nhom\\selenium-tests\\tests\\e2e-user-view-book-detail.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\e2e-user-view-book-detail.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0dac814a-4613-4a51-81df-f849e75f6423&quot;,&quot;title&quot;:&quot;E2E Test: User Login and View Book Details&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Hoquo\\OneDrive\\Desktop\\KTPM_doan\\ktpm-doan-nhom\\selenium-tests\\tests\\e2e-user-view-book-detail.spec.js&quot;,&quot;file&quot;:&quot;\\tests\\e2e-user-view-book-detail.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;E2E Test: User Login and View Book Details\&quot;&quot;,&quot;fullTitle&quot;:&quot;E2E Test: User Login and View Book Details \&quot;before all\&quot; hook in \&quot;E2E Test: User Login and View Book Details\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:759,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(30000);\ndriver = await createDriver();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec148fac-ff0c-4cb4-aadd-10c45568afed&quot;,&quot;parentUUID&quot;:&quot;0dac814a-4613-4a51-81df-f849e75f6423&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;E2E Test: User Login and View Book Details\&quot;&quot;,&quot;fullTitle&quot;:&quot;E2E Test: User Login and View Book Details \&quot;after all\&quot; hook in \&quot;E2E Test: User Login and View Book Details\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await quitDriver(driver);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5adc3b12-70f4-4145-a151-2b3cbec907a4&quot;,&quot;parentUUID&quot;:&quot;0dac814a-4613-4a51-81df-f849e75f6423&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should login as customer and view book details&quot;,&quot;fullTitle&quot;:&quot;E2E Test: User Login and View Book Details should login as customer and view book details&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32571,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(60000);\n// Step 1: Navigate to customer login page\nconsole.log(&#x27;Step 1: Navigating to login page...&#x27;);\nconst loginUrl = `${config.baseUrl}/login`;\nawait driver.get(loginUrl);\nawait driver.sleep(2000);\n// Step 2: Login with customer credentials\nconsole.log(&#x27;Step 2: Logging in as customer...&#x27;);\n\n// Fill in login form\nconst emailInput = await waitForElement(driver, By.css(&#x27;input[type=\&quot;email\&quot;]&#x27;), 10000);\nawait emailInput.clear();\nawait emailInput.sendKeys(config.testUser.email);\n\nconst passwordInput = await driver.findElement(By.css(&#x27;input[type=\&quot;password\&quot;]&#x27;));\nawait passwordInput.clear();\nawait passwordInput.sendKeys(config.testUser.password);\n\n// Submit form\nawait passwordInput.sendKeys(&#x27;\\n&#x27;);\nawait driver.sleep(3000);\n// Step 3: Verify successful login\nconsole.log(&#x27;Step 3: Verifying login success...&#x27;);\nconst currentUrl = await driver.getCurrentUrl();\nconsole.log(&#x27;Current URL after login:&#x27;, currentUrl);\n\n// Check if we&#x27;re still on login page - if yes, check for errors\nif (currentUrl.includes(&#x27;/login&#x27;)) {\n    console.log(&#x27;Still on login page, checking for error messages...&#x27;);\n    try {\n        const errorMessage = await driver.findElement(\n            By.css(&#x27;.error, .alert, [class*=\&quot;error\&quot;], [class*=\&quot;alert\&quot;]&#x27;)\n        );\n        const errorText = await errorMessage.getText();\n        console.log(&#x27;Error message found:&#x27;, errorText);\n    } catch (e) {\n        console.log(&#x27;No error message found, but still on login page&#x27;);\n    }\n    \n    // Try to check if user is logged in by looking for user menu or profile link\n    try {\n        const userMenu = await driver.findElement(\n            By.css(&#x27;[class*=\&quot;user\&quot;], [class*=\&quot;profile\&quot;], a[href*=\&quot;profile\&quot;]&#x27;)\n        );\n        if (userMenu) {\n            console.log(&#x27;User menu found, login might be successful&#x27;);\n        }\n    } catch (e) {\n        console.log(&#x27;User menu not found&#x27;);\n    }\n} else {\n    console.log(&#x27;Redirected from login page - login successful&#x27;);\n    expect(currentUrl).to.not.include(&#x27;/login&#x27;);\n}\n\n// Step 4: Navigate to books page\nconsole.log(&#x27;Step 4: Navigating to books page...&#x27;);\nawait driver.get(`${config.baseUrl}/books`);\nawait driver.sleep(3000);\n// Step 5: Wait for books to load\nconsole.log(&#x27;Step 5: Waiting for books to load...&#x27;);\nconst bookLinks = await waitForElements(\n    driver, \n    By.css(&#x27;a[href*=\&quot;/books/\&quot;]&#x27;),\n    10000\n);\nexpect(bookLinks.length).to.be.greaterThan(0);\nconsole.log(`Found ${bookLinks.length} books`);\n// Step 6: Get book title before clicking\nconsole.log(&#x27;Step 6: Getting first book information...&#x27;);\nconst firstBookLink = bookLinks[0];\nconst bookHref = await firstBookLink.getAttribute(&#x27;href&#x27;);\nconsole.log(&#x27;Book URL:&#x27;, bookHref);\n// Try to get book title from the card\ntry {\n    const bookTitle = await firstBookLink.findElement(By.css(&#x27;h2, h3, .book-title, [class*=\&quot;title\&quot;]&#x27;));\n    const titleText = await bookTitle.getText();\n    console.log(&#x27;Book title:&#x27;, titleText);\n} catch (e) {\n    console.log(&#x27;Could not find book title element&#x27;);\n}\n// Step 7: Click on the first book to view details\nconsole.log(&#x27;Step 7: Clicking on first book...&#x27;);\nawait firstBookLink.click();\nawait driver.sleep(3000);\n// Step 8: Verify we&#x27;re on book detail page\nconsole.log(&#x27;Step 8: Verifying book detail page...&#x27;);\nconst detailUrl = await driver.getCurrentUrl();\nconsole.log(&#x27;Detail page URL:&#x27;, detailUrl);\nexpect(detailUrl).to.include(&#x27;/books/&#x27;);\nexpect(detailUrl).to.not.equal(`${config.baseUrl}/books`);\n// Step 9: Verify book detail elements are present\nconsole.log(&#x27;Step 9: Checking book detail elements...&#x27;);\n\n// Check for book title\ntry {\n    const detailTitle = await waitForElement(\n        driver,\n        By.css(&#x27;h1, h2, .book-title, [class*=\&quot;title\&quot;]&#x27;),\n        5000\n    );\n    const detailTitleText = await detailTitle.getText();\n    console.log(&#x27;Book detail title:&#x27;, detailTitleText);\n    expect(detailTitleText).to.not.be.empty;\n} catch (e) {\n    console.error(&#x27;Could not find book title on detail page&#x27;);\n    throw e;\n}\n// Check for book price\ntry {\n    const priceElement = await driver.findElement(\n        By.css(&#x27;[class*=\&quot;price\&quot;], .book-price, [class*=\&quot;Price\&quot;]&#x27;)\n    );\n    const priceText = await priceElement.getText();\n    console.log(&#x27;Book price:&#x27;, priceText);\n    expect(priceText).to.not.be.empty;\n} catch (e) {\n    console.log(&#x27;Price element not found or not visible&#x27;);\n}\n// Check for book description\ntry {\n    const descriptionElement = await driver.findElement(\n        By.css(&#x27;[class*=\&quot;description\&quot;], .book-description, p&#x27;)\n    );\n    const descriptionText = await descriptionElement.getText();\n    console.log(&#x27;Book description (first 100 chars):&#x27;, descriptionText.substring(0, 100));\n} catch (e) {\n    console.log(&#x27;Description element not found or not visible&#x27;);\n}\n// Check for Add to Cart button (should be visible for logged-in customer)\ntry {\n    const addToCartButton = await driver.findElement(\n        By.css(&#x27;button[class*=\&quot;cart\&quot;], button:contains(\&quot;Add to Cart\&quot;), button:contains(\&quot;Thêm vào giỏ\&quot;)&#x27;)\n    );\n    const isDisplayed = await addToCartButton.isDisplayed();\n    console.log(&#x27;Add to Cart button visible:&#x27;, isDisplayed);\n    expect(isDisplayed).to.be.true;\n} catch (e) {\n    console.log(&#x27;Add to Cart button not found&#x27;);\n}\n// Step 10: Verify book image\ntry {\n    const bookImage = await driver.findElement(\n        By.css(&#x27;img[class*=\&quot;book\&quot;], img[alt*=\&quot;book\&quot;], .book-image img, img&#x27;)\n    );\n    const imageSrc = await bookImage.getAttribute(&#x27;src&#x27;);\n    console.log(&#x27;Book image src:&#x27;, imageSrc);\n    expect(imageSrc).to.not.be.empty;\n} catch (e) {\n    console.log(&#x27;Book image not found&#x27;);\n}\nconsole.log(&#x27;✓ E2E Test completed successfully: User logged in and viewed book details&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03fa3948-0a57-4a19-8e9d-1175d2523a9a&quot;,&quot;parentUUID&quot;:&quot;0dac814a-4613-4a51-81df-f849e75f6423&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to navigate back to books list from detail page&quot;,&quot;fullTitle&quot;:&quot;E2E Test: User Login and View Book Details should be able to navigate back to books list from detail page&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(30000);\nconsole.log(&#x27;Test: Navigation from detail to list...&#x27;);\n\n// Should already be on a book detail page from previous test\nconst currentUrl = await driver.getCurrentUrl();\n\nif (!currentUrl.includes(&#x27;/books/&#x27;)) {\n    // If not on detail page, navigate there first\n    await driver.get(`${config.baseUrl}/books`);\n    await driver.sleep(2000);\n    const bookLinks = await waitForElements(driver, By.css(&#x27;a[href*=\&quot;/books/\&quot;]&#x27;), 5000);\n    await bookLinks[0].click();\n    await driver.sleep(2000);\n}\n// Try to find and click back button or navigation link\ntry {\n    const backButton = await driver.findElement(\n        By.css(&#x27;button[class*=\&quot;back\&quot;], a[href=\&quot;/books\&quot;], a:contains(\&quot;Back\&quot;), a:contains(\&quot;Quay lại\&quot;)&#x27;)\n    );\n    await backButton.click();\n    await driver.sleep(2000);\n    const newUrl = await driver.getCurrentUrl();\n    console.log(&#x27;URL after clicking back:&#x27;, newUrl);\n    expect(newUrl).to.include(&#x27;/books&#x27;);\n    expect(newUrl).to.not.include(&#x27;/books/&#x27;);\n} catch (e) {\n    console.log(&#x27;Back button not found, using browser back navigation&#x27;);\n    await driver.navigate().back();\n    await driver.sleep(2000);\n}\n// Verify we&#x27;re back on books list\nconst booksAfterBack = await waitForElements(\n    driver,\n    By.css(&#x27;a[href*=\&quot;/books/\&quot;]&#x27;),\n    5000\n);\nexpect(booksAfterBack.length).to.be.greaterThan(0);\nconsole.log(&#x27;✓ Successfully navigated back to books list&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;040cd9f4-ca2e-486d-9d36-c6334f72cd95&quot;,&quot;parentUUID&quot;:&quot;0dac814a-4613-4a51-81df-f849e75f6423&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;03fa3948-0a57-4a19-8e9d-1175d2523a9a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;040cd9f4-ca2e-486d-9d36-c6334f72cd95&quot;],&quot;duration&quot;:32571,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:90000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:90000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.7.5&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.4&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;[object Object]&quot;:true},&quot;version&quot;:&quot;6.3.2&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;selenium-tests&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\Hoquo\\OneDrive\\Desktop\\KTPM_doan\\ktpm-doan-nhom\\selenium-tests\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\Hoquo\\OneDrive\\Desktop\\KTPM_doan\\ktpm-doan-nhom\\selenium-tests\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>